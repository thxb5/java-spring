<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="fragment-nav">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<link rel="stylesheet" th:href="@{/css/nav.css}" />
	<!-- 아이콘CDN -->
	<script src="https://kit.fontawesome.com/3590bdbf3c.js" crossorigin="anonymous"></script>
	<!-- 모달 부트스트랩CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<style>
	.modal {
	        text-align: center;
	}
	 
	@media screen and (min-width: 768px) { 
	        .modal:before {
	                display: inline-block;
	                vertical-align: middle;
	                content: " ";
	                height: 100%;
	        }
	}
	 
	.modal-dialog {
	        display: inline-block;
	        text-align: left;
	        vertical-align: middle;
	        width : 300px;
	        height: 500px;
	}
	
	.modal-body {
		padding-left: 0;
		padding-right: 0;
		text-align: center;
	}
	
	.modal-body a {
		text-decoration:none;
		cursor: pointer;
		text-align: center;
	}
	.modal-body ul{
		padding: 0;
	}
	.modal-footer .btn-secondary {
/* 	    background: #3897f0; */
/* 	    border-color: #3897f0; */
		background:#999;
		border-color: #999;
	    color: #fff;
	    border-radius: 3px;
	    border-style: solid;
	    border-width: 1px;
	    font-size: 14px;
	    font-weight: 600;
	    line-height: 28px;
	    outline: none;
	    width: 30%;
	    padding: 0;
	    margin-top: 10px;
	    text-align: center;
	}
</style>	
	
</head>

<body>
   <div id="sidebar" style="display:none">
      <div id="close-button"></div>
      <p id="menu"> &nbsp; 메뉴</p>
      <ul th:if="${session.user == null}" class="dep1">
        <li><a th:href="@{/}"><div class="home_icon"></div><p>&nbsp; &nbsp;홈</p></a></li>
        <li><a href="#"><div class="search_icon"></div><p>&nbsp; &nbsp;검색</p></a></li>
        <li><a href="#" onclick="signin()"><div class="message_icon"></div><p>&nbsp; &nbsp;메시지</p></a></li>
        <li><a href="#" onclick="signin()"><div class="notif_icon"></div><p>&nbsp; &nbsp;알림</p></a></li>
        <li><a href="#" onclick="signin()"><div class="plus_icon"></div><p>&nbsp; &nbsp;만들기</p></a></li>
        <li><a href="#" onclick="signin()"><div class="settings_icon"></div><p>&nbsp; &nbsp;설정</p></a></li>
      </ul>
      
      <ul th:if="${session.user != null}" class="dep1">
        <li><a th:href="@{/myHome/{mem_id}(mem_id=${session.user.mem_id})}"><div class="home_icon"></div><p>&nbsp; &nbsp;홈</p></a></li>
        <li><a href="#"><div class="search_icon"></div><p>&nbsp; &nbsp;검색</p></a></li>
        <li><a href="#" onclick="someday()"><div class="message_icon"></div><p>&nbsp; &nbsp;메시지</p></a></li>
        <li><a href="#" onclick="someday()"><div class="notif_icon"></div><p>&nbsp; &nbsp;알림</p></a></li>
        <li><a th:href="@{/newPost}" ><div class="plus_icon"></div><p>&nbsp; &nbsp;만들기</p></a></li>
        <li><a href="#" class="settingBtn"><div class="settings_icon"></div><p>&nbsp; &nbsp;설정</p></a></li>
      </ul>
    </div>
    
    <!-- 모달 -->
			<div class="modal" tabindex="-1">
				<div class="modal-dialog" >
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">설정</h4>
							<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
						</div>
						<div class="modal-body">
							<ul th:if="${session.user != null}">
								<li><a href="#">프로필 편집</a></li> <hr>
								<li><a th:href="@{/updateinfo}">개인정보 수정</a></li> <hr>
								<li><a th:href="|/restoreImgList/${session.user.mem_id}|">최근 삭제한 컨텐츠</a></li>
							</ul>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn-secondary"
								data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
    

<!-- JS -->
<script type="text/javascript" th:src="@{/js/nav.js}"></script> 

<script>
function signin() {
	  alert("로그인이 필요한 기능입니다.");
}
function someday() {
	alert("추후에 만들 기능입니다...");
}

//설정 클릭시 모달
const modal = new bootstrap.Modal(document.querySelector(".modal"));
document.querySelector(".settingBtn").addEventListener("click", function(e) {
	console.log("saveBtn");
	modal.show();
	
});

</script>

</body>
</html>